@model IEnumerable<FrontVentasUsuarioFinal.Models.CotizacionViewModel>

@{
    ViewBag.Title = "Index";
}

<h2 style="text-align: center">Cotizaciones</h2>

<div class="row"><label>&nbsp; </label></div>

<div class="container">

    <div class="row">
        
        <div class="form-group col-md-5">
            @Html.Label("Cotización", htmlAttributes: new { @class = "control-label col-md-3" })
            @Html.Editor("IDCotizacion", new { htmlAttributes = new { @class = "form-control col-md-1" } })


        </div>
        <div class="form-group col-md-5"> &nbsp;  </div>
    </div>

    <div class="row">


        <div class="form-group col-md-5">
            @Html.Label("Fecha inicial", htmlAttributes: new { @class = "control-label col-md-3" })
            @Html.Editor("FechaInicial", new { htmlAttributes = new { @class = "form-control col-md-1" } })


        </div>

        <div class="form-group col-md-5">
            @Html.Label("Fecha final", htmlAttributes: new { @class = "control-label col-md-3" })
            @Html.Editor("FechaFinal", new { htmlAttributes = new { @class = "form-control col-md-1" } })

        </div>

        <div class="form-group col-md-2">
            <a id="BtnBuscarCotizaciones" class="btn btn-info">  <i class="glyphicon glyphicon-search"></i> Buscar</a>
            @*<span class="btn btn-default input-group-addon" id="BtnBuscarCotizaciones">
                    <span class="glyphicon glyphicon-search">Buscar</span>
                </span>*@
        </div>


    </div>

    <div class="row">
        <div class="form-group col-md-5">
            @Html.Label("Sucursal", htmlAttributes: new { @class = "control-label col-md-3" })
            @Html.DropDownList("Sucursal", new SelectList(ViewBag.ListaSucursales, "Idsucursal", "NombreSucursal"), "Selecciona una opción", new { @class = "form-control col-md-1" })


        </div>

        <div class="form-group col-md-5">
            @Html.Label("Estatus", htmlAttributes: new { @class = "control-label col-md-3" })
            @Html.DropDownList("Estatus", new SelectList(ViewBag.ListaEstatus, "IdEstatus", "NombreEstatus"), "Selecciona una opción", new { @class = "form-control col-md-1" })

        </div>
    </div>
    <hr/>  

    @*<div class="row"><label>&nbsp; </label></div>*@

    @*<p>
            @Html.ActionLink("Create New", "Create")
        </p>*@

    <div class="row">
        <div class="form-group col-md-8"></div>
        <div class="form-group col-md-2">

            @*<a id="BtnImportarExcel" class="btn btn-default" href="\Cotizaciones\ExportarTablaExcel"> Exportar</a>*@
            <a id="BtnImportarExcel" class="btn btn-success">  <i class="glyphicon glyphicon-export"></i> Exportar a Excel</a>
        </div>
        <div class="form-group col-md-2">

            <a id="BtnNuevaCotización" class="btn btn-warning" href="\Cotizaciones\Cotizacion">  <i class="glyphicon glyphicon-plus"></i> Agregar </a>
        </div>



    </div>

    <div class="row"><label>&nbsp; </label></div>

    <div class="row" id="RTable">

        <table class="table" id="TablaCotizaciones">
            <thead>
                <tr>

                    <th>
                        @Html.DisplayNameFor(model => model.Fecha)
                    </th>

                    <th>
                        @Html.DisplayNameFor(model => model.Sucursal)
                    </th>

                    <th>
                        @Html.DisplayNameFor(model => model.Cliente)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.DescripcionCotizacion)
                    </th>

                    <th>
                        @Html.DisplayNameFor(model => model.Estatus)
                    </th>

                    <th>
                        @Html.DisplayNameFor(model => model.Importe)
                    </th>

                    <th>
                        Ver
                    </th>

                    <th>
                        Editar
                    </th>
                </tr>

            </thead>

            <tbody>

                @*@foreach (var item in Model)
                    {
                        <tr>

                            <td>
                                @Html.DisplayFor(modelItem => item.Fecha)
                            </td>

                            <td>
                                @Html.DisplayFor(modelItem => item.Sucursal)
                            </td>

                            <td>
                                @Html.DisplayFor(modelItem => item.Cliente)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.DescripcionCotizacion)
                            </td>

                            <td>
                                @Html.DisplayFor(modelItem => item.Estatus)
                            </td>

                            <td>
                                <a href='Cotizaciones/VerCotizacion?CotizacionId=@item.IdCotizacion' class="btn btn-info"><font face="Open Sans, Helvetica, Arial"> Ver </font></a>

                            </td>
                            <td>
                                <a href='Cotizaciones/ActualizarCotizacion?CotizacionId=@item.IdCotizacion' class="btn btn-primary"><font face="Open Sans, Helvetica, Arial"> Editar</font></a>

                            </td>
                        </tr>
                    }*@
            </tbody>
        </table>

    </div>
 

    <div class="row" id="RAviso">

        <h4 style="text-align: center">Ingrese clave de cotización a buscar o seleccione los parámetros para realizar la busqueda de cotizaciones correspondientes</h4>

    </div>

    
</div>
<div class="row"><label>&nbsp; </label></div>


<div class="modal" tabindex="-1" role="dialog" id="ModalVer" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Ver Cotización</h3>
                @*<button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>*@
            </div>
            <div class="modal-body">
                <div id="ContenidoVerCotizacion">
                </div>
            </div>
            <div class="modal-footer">
                @*<button type="button" class="btn btn-danger" data-dismiss="modal" onclick="return ConfirmCancelUpdate()">Cerrar</button>*@
                <a id="BtnCerrarCotizacion" class="btn btn-danger" data-dismiss="modal"> Cerrar </a>
            </div>
        </div>
    </div>
</div>

<div class="modal" tabindex="-1" role="dialog" id="ModalActualizar" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Actualizar Cotización</h3>
                @*<button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>*@
            </div>
            <div class="modal-body">
                <div id="ContenidoActualizarCotizacion">
                </div>
            </div>
            <div class="modal-footer">
                @*<button type="button" class="btn btn-danger" data-dismiss="modal" onclick="return ConfirmCancelUpdate()">Cerrar</button>*@
                <a id="BtnCancelarCotizacion" class="btn btn-danger" data-dismiss="modal" onclick="return ConfirmCancelUpdate()"> Cerrar </a>
            </div>
        </div>
    </div>
</div>



@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")

    <script src="~/Scripts/JSCotizaciones.js"></script>
 
    
}
